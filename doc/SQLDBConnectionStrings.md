### **Документ: Формальний опис Universal SQL Database Connection Strings**

**Назва:** Universal SQL Database Connection String Format (Формат універсального рядка підключення до SQL баз даних)

**Призначення:** Визначити стандартизований URL-орієнтований формат для підключення до різних систем управління базами даних (СУБД) через абстракцію `SqlDB`.

**Загальний формат:**

```
[схема_БД]://[користувач[:пароль]@]хост[:порт]/назва_бази[?параметр1=значення1&параметр2=значення2]
```

**Компоненти формату:**

  * **`[схема_БД]://`**: Ідентифікатор типу бази даних, який використовуватиметься для вибору конкретного драйвера.
      * **`pgsql://`**: Для PostgreSQL (`SqlDrvPg`)
      * **`mysql://`**: Для MySQL (`SqlDrvMy`)
      * **`sqlite://`**: Для SQLite (`SqlDrvLite`)
      * **`odbc://`**: Для ODBC (використовується класом `SqlDrvOdbc`)
  * **`[користувач[:пароль]]@`**: Необов'язкові ім'я користувача та пароль для автентифікації.
  * **`хост[:порт]`**: Адреса сервера (IP або доменне ім'я) та опціональний номер порту.
  * **`назва_бази`**: Ім'я конкретної бази даних на сервері.
  * **`?параметр1=значення1&параметр2=значення2`**: Необов'язкові додаткові параметри. Це будуть специфічні для конкретної СУБД опції (наприклад, `sslmode`, `charset`, `timeout`), які будуть передані драйверу "як є".

**Специфічна обробка для різних СУБД:**

  * **PostgreSQL (`pgsql://`) та MySQL (`mysql://`):**

      * Стандартне використання компонентів `користувач`, `пароль`, `хост`, `порт`, `назва_бази`.
      * Приклад: `pgsql://user:pass@localhost:5432/mydb?sslmode=require`

  * **SQLite (`sqlite://`):**

      * **`хост` та `порт` ігноруються**, оскільки SQLite є файловою (бессерверною) базою даних.
      * **`назва_бази` є шляхом до файлу бази даних.**
      * Для **локальних файлів** використовується формат з трьома слешами: `sqlite:///path/to/database.db`.
      * Для **бази даних у пам'яті (in-memory)**: `sqlite://:memory:`.
      * **Важливо:** Не передбачається прямий віддалений доступ до SQLite-файлів за допомогою `хост:порт`, оскільки це суперечить архітектурі SQLite. Для віддаленого доступу потрібен окремий проміжний серверний застосунок або мережеве монтування файлу.
      * Приклад: `sqlite:///var/data/app.db?mode=rw`

  * **ODBC (`odbc://`):**

      * Після `odbc://` очікується **повний, стандартний ODBC connection string** (формату ключ=значення, розділені крапкою з комою).
      * Цей клас (`SqlDrvOdbc`) призначений для "інших" баз даних (зокрема, MSSQL), доступ до яких здійснюється через ODBC. Він буде універсальним для будь-яких баз, що підтримують ODBC, якщо користувач надасть повний ODBC-рядок.
      * Приклад: `odbc://DRIVER={ODBC Driver 17 for SQL Server};SERVER=my_server;DATABASE=my_db;UID=my_user;PWD=my_pass;`

