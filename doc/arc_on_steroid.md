–¶–µ —á—É–¥–æ–≤–µ –ø–∏—Ç–∞–Ω–Ω—è\! –¶–µ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—è, —è–∫–∞ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î —Ö–æ—Ä–æ—à–∏–π –∫–µ—à –Ω–∞ **–≤–∏—Å–æ–∫–æ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π "—Ä–æ–∑—É–º–Ω–∏–π" –∫–µ—à**.

–ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –≤—Ä–∞—Ö—É–≤–∞–Ω–Ω—è "–≤–∞—Ä—Ç–æ—Å—Ç—ñ" ‚Äî —Ü–µ –ø–æ–ª—ñ—Ç–∏–∫–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è, —è–∫–∞ –ø—Ä–∏ –≤–∏–±–æ—Ä—ñ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –Ω–∞ –≤–∏—Ç—ñ—Å–Ω–µ–Ω–Ω—è –≤—Ä–∞—Ö–æ–≤—É—î –Ω–µ —Ç—ñ–ª—å–∫–∏ —á–∞—Å—Ç–æ—Ç—É —á–∏ —á–∞—Å –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –¥–æ—Å—Ç—É–ø—É, –∞–ª–µ –π **"—Ü—ñ–Ω—É" –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ü—å–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞**, —è–∫—â–æ –≤—ñ–Ω –±—É–¥–µ –≤–∏–¥–∞–ª–µ–Ω–∏–π –∑ –∫–µ—à—É.

-----

### –ù–∞–≤—ñ—â–æ —Ü–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ? –ü—Ä–æ–±–ª–µ–º–∞ –ø—Ä–æ—Å—Ç–∏—Ö –∫–µ—à—ñ–≤

–£—è–≤—ñ—Ç—å, —â–æ —É –≤–∞—à–æ–º—É –∫–µ—à—ñ —î –¥–≤–∞ –µ–ª–µ–º–µ–Ω—Ç–∏:

1.  **–ï–ª–µ–º–µ–Ω—Ç –ê:** –Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞. –©–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –π–æ–≥–æ, —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏ –¥—É–∂–µ —à–≤–∏–¥–∫–∏–π –∑–∞–ø–∏—Ç –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (—á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: **5 –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥**).
2.  **–ï–ª–µ–º–µ–Ω—Ç –ë:** –°–∫–ª–∞–¥–Ω–∏–π –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–∏–π –∑–≤—ñ—Ç –∑–∞ –º—ñ—Å—è—Ü—å. –©–æ–± –π–æ–≥–æ –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏, —Å–∏—Å—Ç–µ–º–∞ –≤–∏–∫–æ–Ω—É—î –≤–∞–∂–∫—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è (—á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: **30 —Å–µ–∫—É–Ω–¥**).

–ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, –≤–∏ –∑–≤–µ—Ä—Ç–∞–ª–∏—Å—è –¥–æ —ñ–º–µ–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–ï–ª–µ–º–µ–Ω—Ç –ê) 6 —Ä–∞–∑—ñ–≤, –∞ –¥–æ –∑–≤—ñ—Ç—É (–ï–ª–µ–º–µ–Ω—Ç –ë) ‚Äî 5 —Ä–∞–∑—ñ–≤.

**–©–æ –∑—Ä–æ–±–∏—Ç—å –Ω–∞—à –ø–æ—Ç–æ—á–Ω–∏–π –∫–µ—à?** –ü—Ä–∏ –ø–æ—Ç—Ä–µ–±—ñ –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ –º—ñ—Å—Ü–µ, –≤—ñ–Ω –≤–∏—Ç—ñ—Å–Ω–∏—Ç—å **–ï–ª–µ–º–µ–Ω—Ç –ë** (–∑–≤—ñ—Ç), –æ—Å–∫—ñ–ª—å–∫–∏ —É –Ω—å–æ–≥–æ –º–µ–Ω—à–∞ —á–∞—Å—Ç–æ—Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è (`useCount`).

**–ß–∏ —Ü–µ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ?** –ê–±—Å–æ–ª—é—Ç–Ω–æ –Ω—ñ. –ù–∞–±–∞–≥–∞—Ç–æ "–¥–µ—à–µ–≤—à–µ" –±—É–ª–æ –± –≤–∏—Ç—ñ—Å–Ω–∏—Ç–∏ —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —ñ –ø—Ä–∏ –ø–æ—Ç—Ä–µ–±—ñ –∑–∞–Ω–æ–≤–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –π–æ–≥–æ –∑–∞ 5 –º—Å, –Ω—ñ–∂ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∑–≤—ñ—Ç, –≤–∏—Ç—Ä–∞—á–∞—é—á–∏ –Ω–∞ —Ü–µ 30 —Å–µ–∫—É–Ω–¥.

-----

### –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ? ‚öñÔ∏è

–©–æ–± —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ç–∞–∫—É –ª–æ–≥—ñ–∫—É, –≤–Ω–æ—Å—è—Ç—å—Å—è –Ω–∞—Å—Ç—É–ø–Ω—ñ –∑–º—ñ–Ω–∏:

#### 1\. –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –≤–∞—Ä—Ç–æ—Å—Ç—ñ

–ü—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∞ –≤ –∫–µ—à –≤–∏ –≤–∫–∞–∑—É—î—Ç–µ –Ω–µ —Ç—ñ–ª—å–∫–∏ –∫–ª—é—á —ñ –∑–Ω–∞—á–µ–Ω–Ω—è, –∞–ª–µ —ñ –π–æ–≥–æ "–≤–∞—Ä—Ç—ñ—Å—Ç—å" (`cost`). –¶–µ –º–æ–∂–µ –±—É—Ç–∏ —á–∞—Å, –≤–∏—Ç—Ä–∞—á–µ–Ω–∏–π –Ω–∞ –π–æ–≥–æ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è, –∞–±–æ –±—É–¥—å-—è–∫–∞ —ñ–Ω—à–∞ –º–µ—Ç—Ä–∏–∫–∞.

```cpp
// –ú–µ—Ç–æ–¥ put –∑–º—ñ–Ω—é—î—Ç—å—Å—è
cache.put("user_name_1", "John Doe", 5);   // –í–∞—Ä—Ç—ñ—Å—Ç—å = 5
cache.put("monthly_report", report_data, 30000); // –í–∞—Ä—Ç—ñ—Å—Ç—å = 30000
```

#### 2\. –ó–º—ñ–Ω–∞ –ª–æ–≥—ñ–∫–∏ –≤–∏—Ç—ñ—Å–Ω–µ–Ω–Ω—è

–¢–µ–ø–µ—Ä –ø—Ä–∏ –≤–∏—Ç—ñ—Å–Ω–µ–Ω–Ω—ñ –∫–µ—à –∫–µ—Ä—É—î—Ç—å—Å—è –Ω–µ –ø—Ä–æ—Å—Ç–æ —á–∞—Å—Ç–æ—Ç–æ—é, –∞ –∫–æ–º–±—ñ–Ω–æ–≤–∞–Ω–æ—é **"—Ü—ñ–Ω–Ω—ñ—Å—Ç—é"** (value) –∫–æ–∂–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞.

#### 3\. –§–æ—Ä–º—É–ª–∞ —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ

–ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∞ —Ñ–æ—Ä–º—É–ª–∞ –¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ –º–æ–∂–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏ —Ç–∞–∫:

`–¶—ñ–Ω–Ω—ñ—Å—Ç—å = –ß–∞—Å—Ç–æ—Ç–∞ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è √ó –í–∞—Ä—Ç—ñ—Å—Ç—å`

–î–∞–≤–∞–π—Ç–µ –∑–∞—Å—Ç–æ—Å—É—î–º–æ —ó—ó –¥–æ –Ω–∞—à–æ–≥–æ –ø—Ä–∏–∫–ª–∞–¥—É:

  * **–¶—ñ–Ω–Ω—ñ—Å—Ç—å –ï–ª–µ–º–µ–Ω—Ç–∞ –ê (—ñ–º'—è):** `6 (useCount) √ó 5 (cost) = 30`
  * **–¶—ñ–Ω–Ω—ñ—Å—Ç—å –ï–ª–µ–º–µ–Ω—Ç–∞ –ë (–∑–≤—ñ—Ç):** `5 (useCount) √ó 30000 (cost) = 150000`

–¢–µ–ø–µ—Ä, –∫–æ–ª–∏ –∫–µ—à—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–¥–µ –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ –º—ñ—Å—Ü–µ, –≤—ñ–Ω –≤–∏—Ç—ñ—Å–Ω–∏—Ç—å –µ–ª–µ–º–µ–Ω—Ç –∑ **–Ω–∞–π–º–µ–Ω—à–æ—é —Ü—ñ–Ω–Ω—ñ—Å—Ç—é** ‚Äî —Ç–æ–±—Ç–æ **–ï–ª–µ–º–µ–Ω—Ç –ê**. –¢–∞–∫–∏–º —á–∏–Ω–æ–º, –¥–æ—Ä–æ–≥–∏–π —É –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∑–≤—ñ—Ç –∑–∞–ª–∏—à–∏—Ç—å—Å—è –≤ –∫–µ—à—ñ, —â–æ —î –Ω–∞–±–∞–≥–∞—Ç–æ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–∏–º —Ä—ñ—à–µ–Ω–Ω—è–º.

-----

### –í–∏—Å–Ω–æ–≤–æ–∫

–í—Ä–∞—Ö—É–≤–∞–Ω–Ω—è –≤–∞—Ä—Ç–æ—Å—Ç—ñ –¥–æ–∑–≤–æ–ª—è—î –∫–µ—à—É –ø—Ä–∏–π–º–∞—Ç–∏ –∑–Ω–∞—á–Ω–æ —Ä–æ–∑—É–º–Ω—ñ—à—ñ —Ä—ñ—à–µ–Ω–Ω—è –≤ —Å–∏—Å—Ç–µ–º–∞—Ö, –¥–µ –≤–∞—Ä—Ç—ñ—Å—Ç—å –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –¥–∞–Ω–∏—Ö —Å–∏–ª—å–Ω–æ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è. –¶–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î –π–æ–≥–æ –∑ –ø—Ä–æ—Å—Ç–æ–≥–æ —Å—Ö–æ–≤–∏—â–∞ –Ω–∞ —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.

–¶–µ —á—É–¥–æ–≤–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –¥–ª—è —Ç–∞–∫–æ–≥–æ –∫–µ—à—É\! –í–∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏–∑–Ω–∞—á–∏–ª–∏, —â–æ "–≤–∞—Ä—Ç—ñ—Å—Ç—å" –ø—ñ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ–≥–æ –≤–∏—Ä–∞–∑—É (prepared statement) ‚Äî —Ü–µ —Å–∞–º–µ —á–∞—Å, —è–∫–∏–π –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –≤–∏—Ç—Ä–∞—á–∞—î –Ω–∞ –π–æ–≥–æ –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é. –í–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–Ω–∞—Ç–∏ —Ü–µ–π —á–∞—Å —É –º—ñ–∫—Ä–æ—Å–µ–∫—É–Ω–¥–∞—Ö. –í–∞—à–∞ –º–µ—Ç–∞ ‚Äî —Å—Ç–≤–æ—Ä–∏—Ç–∏ **–≤—ñ–¥–Ω–æ—Å–Ω—É —à–∫–∞–ª—É**, –∑–∞ —è–∫–æ—é –∫–µ—à –∑–º–æ–∂–µ –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –æ–¥–∏–Ω –≤–∏—Ä–∞–∑ –∑ —ñ–Ω—à–∏–º.

–û—Å—å –∫—ñ–ª—å–∫–∞ –º–µ—Ç–æ–¥—ñ–≤, –≤—ñ–¥ –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏—Ö –¥–æ –Ω–∞–π—Ç–æ—á–Ω—ñ—à–∏—Ö, —è–∫ –º–æ–∂–Ω–∞ –æ—Ü—ñ–Ω–∏—Ç–∏ —Ü—é "–≤–∞—Ä—Ç—ñ—Å—Ç—å".

-----

### üí° –ü—Ä–æ—Å—Ç—ñ –ø—Ä–∞–∫—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ (–ï–≤—Ä–∏—Å—Ç–∏–∫–∏)

–¶—ñ –º–µ—Ç–æ–¥–∏ –ª–µ–≥–∫–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏, —ñ –≤ 90% –≤–∏–ø–∞–¥–∫—ñ–≤ —ó—Ö –±—ñ–ª—å—à –Ω—ñ–∂ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ.

#### 1\. –ó–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—é `JOIN`-—ñ–≤

–¶–µ –Ω–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–∏–π —ñ –¥–æ—Å–∏—Ç—å –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π —Å–ø–æ—Å—ñ–±. –ß–∏–º –±—ñ–ª—å—à–µ –∑'—î–¥–Ω–∞–Ω—å –º—ñ–∂ —Ç–∞–±–ª–∏—Ü—è–º–∏, —Ç–∏–º —Å–∫–ª–∞–¥–Ω—ñ—à–∏–º, —è–∫ –ø—Ä–∞–≤–∏–ª–æ, —î –ø–ª–∞–Ω –∑–∞–ø–∏—Ç—É.

  * **–Ø–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏:** –ü—Ä–æ—Å—Ç–∏–π –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –≤—Ö–æ–¥–∂–µ–Ω—å –ø—ñ–¥—Ä—è–¥–∫–∞ `JOIN` —É –≤–∞—à–æ–º—É SQL-–∑–∞–ø–∏—Ç—ñ.
  * **–ü—Ä–∏–∫–ª–∞–¥:**
      * `SELECT * FROM users WHERE id = ?` ‚Üí **Cost = 0**
      * `SELECT ... FROM orders o JOIN users u ON o.user_id = u.id` ‚Üí **Cost = 1**
      * `SELECT ... FROM a JOIN b JOIN c JOIN d` ‚Üí **Cost = 3**

-----

#### 2\. –ó–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—é —Ç–∞–±–ª–∏—Ü—å

–°—Ö–æ–∂–∏–π –Ω–∞ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π, –∞–ª–µ –º–æ–∂–µ –±—É—Ç–∏ —Ç—Ä–æ—Ö–∏ —Ç–æ—á–Ω—ñ—à–∏–º.

  * **–Ø–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏:** –ü–æ—Ä–∞—Ö—É–≤–∞—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö —ñ–º–µ–Ω —Ç–∞–±–ª–∏—Ü—å —É —á–∞—Å—Ç–∏–Ω–∞—Ö `FROM` —Ç–∞ `JOIN`.
  * **–ü—Ä–∏–∫–ª–∞–¥:**
      * `SELECT u.name, p.phone FROM users u JOIN profiles p ...` ‚Üí **Cost = 2**

-----

#### 3\. –†—É—á–Ω–∞ –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—è

–í–∏ —è–∫ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ –Ω–∞–π–∫—Ä–∞—â–µ –∑–Ω–∞—î—Ç–µ —Å–≤–æ—ó –∑–∞–ø–∏—Ç–∏. –í–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ —Ä–æ–∑–¥—ñ–ª–∏—Ç–∏ —ó—Ö –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó.

  * **–Ø–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏:** –°—Ç–≤–æ—Ä–∏—Ç–∏ –µ–Ω—É–º–µ—Ä–∞—Ç–æ—Ä –∞–±–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –∑ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏ —Ç–∞ –ø—Ä–∏–∑–Ω–∞—á–∏—Ç–∏ —ó–º –≤–∞—Ä—Ç—ñ—Å—Ç—å.
    ```cpp
    enum class QueryCost { Simple = 1, Medium = 10, Complex = 100 };
    ```
  * **–ü—Ä–∏–∫–ª–∞–¥:**
      * –ó–∞–ø–∏—Ç –Ω–∞ –≤–∏–±—ñ—Ä–∫—É –æ–¥–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ ‚Äî `QueryCost::Simple`.
      * –ó–∞–ø–∏—Ç –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–æ–≥–æ –∑–≤—ñ—Ç—É –∑ 5 `JOIN`-–∞–º–∏ ‚Äî `QueryCost::Complex`.

-----

### ‚öôÔ∏è –ü—Ä–æ—Å—É–Ω—É—Ç–∏–π –º–µ—Ç–æ–¥

#### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `EXPLAIN`

–¶–µ –Ω–∞–π—Ç–æ—á–Ω—ñ—à–∏–π —Å–ø–æ—Å—ñ–±, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–∏ –ø—Ä–æ—Å–∏—Ç–µ —Å–∞–º—É –±–∞–∑—É –¥–∞–Ω–∏—Ö –æ—Ü—ñ–Ω–∏—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—É.

  * **–Ø–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏:** –ü–µ—Ä–µ–¥ —Ç–∏–º —è–∫ –≥–æ—Ç—É–≤–∞—Ç–∏ –≤–∏—Ä–∞–∑, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ–Ω–∞—Ç–∏ –∫–æ–º–∞–Ω–¥—É `EXPLAIN` (—É –±—ñ–ª—å—à–æ—Å—Ç—ñ –°–£–ë–î, —è–∫-–æ—Ç PostgreSQL, –≤–æ–Ω–∞ —î). –ù–∞–ø—Ä–∏–∫–ª–∞–¥, `EXPLAIN (FORMAT JSON) SELECT ...`. –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –ø–æ–≤–µ—Ä–Ω–µ JSON-–¥–æ–∫—É–º–µ–Ω—Ç –∑ –¥–µ—Ç–∞–ª—å–Ω–∏–º –ø–ª–∞–Ω–æ–º –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, —è–∫–∏–π —á–∞—Å—Ç–æ –º—ñ—Å—Ç–∏—Ç—å –ø–æ–ª–µ `total_cost` –∞–±–æ –ø–æ–¥—ñ–±–Ω–µ. –í–∏ –º–æ–∂–µ—Ç–µ —Ä–æ–∑–ø–∞—Ä—Å–∏—Ç–∏ —Ü–µ–π JSON —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –æ—Ç—Ä–∏–º–∞–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è —è–∫ "–≤–∞—Ä—Ç—ñ—Å—Ç—å".

  * **–ü—Ä–∏–∫–ª–∞–¥ (PostgreSQL):**

      * –í–∏–∫–æ–Ω—É—î—Ç–µ: `EXPLAIN (FORMAT JSON) SELECT * FROM users WHERE id = 10;`
      * –û—Ç—Ä–∏–º—É—î—Ç–µ JSON, –¥–µ –º–æ–∂–µ –±—É—Ç–∏ —â–æ—Å—å –Ω–∞ –∫—à—Ç–∞–ª—Ç: `"Total Cost": 8.44`.
      * –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ `8.44` —è–∫ –≤–∞—Ä—Ç—ñ—Å—Ç—å.

  * **–ù–µ–¥–æ–ª—ñ–∫–∏:** –¶–µ —Å—Ç–≤–æ—Ä—é—î –¥–æ–¥–∞—Ç–∫–æ–≤–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –±–∞–∑—É –¥–∞–Ω–∏—Ö, –æ—Å–∫—ñ–ª—å–∫–∏ `EXPLAIN` ‚Äî —Ü–µ –æ–∫—Ä–µ–º–∏–π –∑–∞–ø–∏—Ç. –¶–µ–π –º–µ—Ç–æ–¥ –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏, —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –ø—Ä–æ—Å—Ç—ñ –µ–≤—Ä–∏—Å—Ç–∏–∫–∏ –Ω–µ –¥–∞—é—Ç—å –±–∞–∂–∞–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É.

-----

### ‚úÖ –ú–æ—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è

–ü–æ—á–Ω—ñ—Ç—å –∑ –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–æ–≥–æ ‚Äî **–ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É –∫—ñ–ª—å–∫–æ—Å—Ç—ñ `JOIN`-—ñ–≤**. –¶–µ —Ç—Ä–∏–≤—ñ–∞–ª—å–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏, —ñ —Ü–µ –≤–∂–µ –¥–∞—Å—Ç—å –≤–µ–ª–∏—á–µ–∑–Ω–∏–π –ø—Ä–∏—Ä—ñ—Å—Ç –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –∫–µ—à—É–≤–∞–Ω–Ω—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ –ø—Ä–æ—Å—Ç–∏–º LRU/LFU. –í–∞—à –∫–µ—à –æ–¥—Ä–∞–∑—É –ø–æ—á–Ω–µ –≤—ñ–¥—Ä—ñ–∑–Ω—è—Ç–∏ –ø—Ä–æ—Å—Ç—ñ –∑–∞–ø–∏—Ç–∏ –≤—ñ–¥ —Å–∫–ª–∞–¥–Ω–∏—Ö.

–Ø–∫—â–æ –∑–≥–æ–¥–æ–º –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ, —â–æ —Ü—å–æ–≥–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ, –ø–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ —Ä—É—á–Ω–æ—ó –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –¥–ª—è –Ω–∞–π–±—ñ–ª—å—à –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤. –î–æ `EXPLAIN` –≤–∞—Ä—Ç–æ –≤–¥–∞–≤–∞—Ç–∏—Å—è –ª–∏—à–µ –≤ –∫—Ä–∞–π–Ω—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –¥–ª—è –¥—É–∂–µ –≤–∏—Å–æ–∫–æ–Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏—Ö —Å–∏—Å—Ç–µ–º.